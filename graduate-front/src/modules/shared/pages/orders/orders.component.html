<div class="orders">
    <h1>PORUDŽBINE</h1>

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table">
        <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef>Datum i vreme</th>
            <td mat-cell *matCellDef="let element">{{element.dateTime | dateFormat}}</td>
        </ng-container>

        <ng-container matColumnDef="number">
            <th mat-header-cell *matHeaderCellDef>Broj porudžbine</th>
            <td mat-cell *matCellDef="let element">000{{element.id}}</td>
        </ng-container>
        
    
        <ng-container matColumnDef="household">
        <th mat-header-cell *matHeaderCellDef>Domaćinstvo</th>
        <td mat-cell *matCellDef="let element">{{element.household.name}}</td>
        </ng-container>

        <ng-container matColumnDef="user">
            <th mat-header-cell *matHeaderCellDef>Korisnik</th>
            <td mat-cell *matCellDef="let element">
               {{element.user.name}} {{element.user.surname}}
            </td>
        </ng-container>

        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef style="width: 70px;"></th>
            <td mat-cell *matCellDef="let element" style="width: 70px;">
                <mat-chip-list aria-label="status">
                    <mat-chip *ngIf="element.sentAt === null">
                      <mat-icon>access_time</mat-icon>&nbsp;Obrada
                    </mat-chip>
                    <mat-chip *ngIf="element.sentAt !== null && element.deliveredAt === null">
                        <mat-icon>check</mat-icon>&nbsp;Poslato
                    </mat-chip>
                    <mat-chip *ngIf="element.sentAt !== null && element.deliveredAt !== null">
                        <mat-icon>check</mat-icon>&nbsp;Isporučeno
                    </mat-chip>
                </mat-chip-list>
            </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row 
            style="cursor: pointer"
            *matRowDef="let row; columns: displayedColumns;"
            (click)="clickedOrder(row.id);"    
        ></tr>
    </table>

  </div>
